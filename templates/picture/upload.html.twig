{# Upload new image #}
{% extends "base.html.twig" %}

{% block title %}Upload picture{% endblock %}
{% block header_title %}{{ block('title') }}{% endblock %}

{% block content %}
    <div class="pure-g">
        <section class="pure-u-4-5">
            {{ form(form) }}
        </section>
        <section class="pure-u-1-5">
            {% for picture in last|slice(0, 5) %}
                <article>
                    <img src="{{ path('get_picture', {title: picture.filename}) }}" class="pure-img" title="{{ picture.filename }}"/>
                </article>
            {% endfor %}
        </section>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        window.addEventListener('paste', e => {
            const fileInput = document.getElementById('{{ form['picture'].vars.id }}')
            fileInput.files = e.clipboardData.files
        })
    </script>
{% endblock %}

