{# Session cache of broadcasted pictures #}
{% extends "base.html.twig" %}
{% form_theme form _self %}

{% block title %}Broadcasted pictures{% endblock %}
{% block header_title %}{{ block('title') }}{% endblock %}

{% block content %}
    {{ form(form) }}
{% endblock %}

{% block _form_picture_row %}
    <section class="pure-g mosaic">
        {% for child in form.children %}
            <div class="pure-u-1-8">
                {{ form_widget(child, {checked:true}) }}
                <label for="{{ child.vars.id }}">
                    <img src="{{ path('app_gamesession_broadcasted', {title: child.vars.value}) }}"/>
                </label>
            </div>
        {% endfor %}
    </section>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .mosaic img {
            object-fit: contain;
            max-width: 100%;
            max-height: 100%;
            display: block;
        }

        .mosaic label {
            display: block;
            margin: 0.5rem;
        }

        .mosaic input {
            display: none;
        }

        .mosaic input:not(:checked) + label img {
            filter: grayscale(0.8) blur(2px) opacity(50%);
        }
    </style>
{% endblock %}


