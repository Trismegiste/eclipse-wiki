{% extends "base.html.twig" %}

{% block title %}{{ vertex.title }}{% endblock %}

{% block header_title %}
    <nav style="float: right">
        {{ include('vertex/actions.html.twig') }}
    </nav>   
    {{ vertex.title }}
{% endblock %}

{% block content %}
    {{ wiki(vertex.content) }}
    {{ include('fragment/wiki_backlinks.html.twig') }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/picture-pusher.js') }}"></script>
    <script>
        Mousetrap.bind('left', function () {
            location.assign('{{ path('app_vertexcrud_seekprevious', {pk: vertex.pk}) }}')
            return false
        })

        Mousetrap.bind('right', function () {
            location.assign('{{ path('app_vertexcrud_seeknext', {pk: vertex.pk}) }}')
            return false
        })

        Mousetrap.bind('e', function () {
            location.assign('{{ path('app_vertexcrud_edit', {pk: vertex.pk}) }}')
            return false
        })
    </script>
{% endblock %}

{% block info %}
    {% if app.session.get('pinned_timeline') is not empty %}
        {{ render(controller('App\\Controller\\TimelineCrud::tree', {root: app.session.get('pinned_timeline'), mode: 'toc'})) }}
    {% endif %}
{% endblock %}