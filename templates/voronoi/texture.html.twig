{% extends "voronoi/baseform.html.twig" %}
{% form_theme form _self %}

{% block _form_voronoiParam_row %}
    {{ form_widget(form) }}
{% endblock %}

{% block _form_voronoiParam_tileWeight_entry_row %}
    <div class="pure-g">
        <div class="pure-u-1-3 tile-icon">
            {{ render_tile('habitat', name, 42) }}
        </div>
        <div class="pure-u-1-3">
            <label for="{{ id }}">{{ humanize_tilename(name) }}</label>
        </div>
        <div class="pure-u-1-3">
            {{ form_widget(form, {attr:{class:'pure-input-1'}}) }}
        </div>
    </div>
{% endblock %}

{% block _form_voronoiParam_minClusterPerTile_entry_row %}
    {{ block('_form_voronoiParam_tileWeight_entry_row') }}
{% endblock %}

{% block content %}
    <div class="pure-g">
        <div class="pure-u-1-2">
            {{ form(form) }}
        </div>
        <div class="pure-u-1-2">
            {% if form.vars.data.voronoiParam is not empty %}
                <img src="{{ path('app_voronoicrud_generate', {pk: form.vars.data.pk, fog: 0}) }}" class="pure-img"/>
            {% endif %}
        </div>
    </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        #form_voronoiParam > .pure-g {
            margin-bottom: 2em;
        }
        #form_voronoiParam > .pure-g > .pure-u-1-3 {
            background: #eee;
        }
        #form_voronoiParam > .pure-g > div.pure-u-1-3 {
            display: flex;
        }
        #form_voronoiParam > .pure-g > div.pure-u-1-3 > label {
            margin: auto;
        }
        .tile-icon {
            text-align: right;
        }
    </style>
{% endblock %}