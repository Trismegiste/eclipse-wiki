{# show battlemap #}
{% extends "base.html.twig" %}

{% block title %}{{ title }}{% endblock %}

{% block body %}
    <div x-data="spa" class="pure-g">
        <div class="pure-u-3-5">
            <div id="map">{{ svg|raw }}</div>
        </div>
        <div class="pure-u-2-5">
            {{ form(tools) }}
            <hr/>
            <div x-ref="characterCard">
            </div>
            <hr/>
            {{ include('fragment/flashes.html.twig') }}
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('svgdotjs/svg.min.js') }}"></script>
    <script src="{{ asset('svgdotjs/svg.panzoom.min.js') }}"></script>
    <script src="{{ asset('svgdotjs/svg.draggable.min.js') }}"></script>
    <script src="{{ asset('js/picture-pusher.js') }}"></script>
    <script>
        var Route = {
            miniCard: '{{ path('app_npcgenerator_minicard') }}?title=',
            pushPlayer: '{{ path('app_voronoicrud_pushplayerview') }}',
            getToken: '{{ path('app_picture_readtoken') }}?title=',
            getPicto: '{{ path('app_picture_readpictogram') }}?title='
        }
    </script>
    <script src="{{ asset('js/runmap.js') }}"></script>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .disabled-fog {
            opacity: 0.33;
        }
    </style>
{% endblock %}
