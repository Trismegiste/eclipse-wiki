version: "3.9"
services:
    symfony:
        build: .
        image: symfony:dev
        volumes:
            - .:/app
        depends_on:
            - "mongo"
        network_mode: host

    mongo:
        image: "bitnami/mongodb:6.0"
        volumes:
            - eclipse-mongo:/bitnami/mongodb
        network_mode: host
    node:
        image: node:20-alpine
        volumes:
            - .:/home/node
        command: sh /home/node/bin/generate-font.sh

volumes:
    eclipse-mongo:
